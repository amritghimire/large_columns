schema: '2.0'
stages:
  split:
    cmd: python split.py texts.csv texts-train.csv texts-test.csv
    deps:
    - path: split.py
      md5: 8048248e1f9eeb12732ea68ccb8d0375
      size: 1196
    - path: texts.csv
      md5: 693685ddd16fe4893312b9c416b2c80c
      size: 1656
    params:
      params.yaml:
        prepare.features: 100
        prepare.max_features: 2200
    outs:
    - path: texts-test.csv
      md5: be358047a2d6527ebbb81933a05f6e49
      size: 522
    - path: texts-train.csv
      md5: 428a063417f087def0463aa355a1d007
      size: 1134
  featurize:
    cmd: python featurize.py texts-train.csv texts-train-feats.csv
    deps:
    - path: featurize.py
      md5: 96576292af3c0216ac664567f59e7ee5
      size: 1159
    - path: texts-train.csv
      md5: 428a063417f087def0463aa355a1d007
      size: 1134
    params:
      params.yaml:
        featurize.features: 4380
    outs:
    - path: texts-train-feats.csv
      md5: ffe1eb5b33260a73db1e0a57b70d8e89
      size: 84
  train:
    cmd: python train.py texts-train-feats.csv model.json
    deps:
    - path: texts-train-feats.csv
      md5: ffe1eb5b33260a73db1e0a57b70d8e89
      size: 84
    - path: train.py
      md5: b2c0b5288685fb0aaeb129fb05b468b4
      size: 1591
    params:
      params.yaml:
        model.columns: 60
        model.features: 4460
        model.folds: 9
        model.passes: 76
        settings.batch_size: 368
        settings.estimators: 119
        settings.min_features: 3650
        settings.min_split: 64
        settings.random_state: 509000000
        settings.seed: 185976000
        settings.trees: 9
        tagging.dense: 100
        tagging.estimators: 222
        tagging.tags: 63
    outs:
    - path: model.json
      md5: 4abd9f0211b2849fd19307da8684e4a4
      size: 605
  evaluate:
    cmd: python evaluate.py model.json texts-test.csv
    deps:
    - path: evaluate.py
      md5: 4f84c4f6ce0cfe8399aa7140f6c56736
      size: 41705
    - path: model.json
      md5: 4abd9f0211b2849fd19307da8684e4a4
      size: 605
    - path: texts-test.csv
      md5: be358047a2d6527ebbb81933a05f6e49
      size: 522
    outs:
    - path: metrics.json
      md5: 3868d0edeb7a657cc99ea20d502370b0
      size: 289

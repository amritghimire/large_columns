schema: '2.0'
stages:
  split:
    cmd: python split.py ner.csv ner-train.csv ner-test.csv
    deps:
    - path: ner.csv
      md5: a181e156773daf1620f139fd87d0b9eb
      size: 1119
    - path: split.py
      md5: b3a178d35c7926190fb8bdce5b7681d5
      size: 713
    outs:
    - path: ner-test.csv
      md5: 012d63ebb79cbf475c14ba8f3c2078d5
      size: 345
    - path: ner-train.csv
      md5: bc0884988797a71c9e7dee2d95fb448b
      size: 774
  featurize:
    cmd: python featurize.py ner-train.csv ner-train-feats.csv
    deps:
    - path: featurize.py
      md5: c7fe38fee780868d3e763d9f76d5ca9d
      size: 698
    - path: ner-train.csv
      md5: bc0884988797a71c9e7dee2d95fb448b
      size: 774
    outs:
    - path: ner-train-feats.csv
      md5: 3f319e512a1d196b9265e82c21fcde39
      size: 46
  train:
    cmd: python train.py ner-train-feats.csv model.json
    deps:
    - path: ner-train-feats.csv
      md5: 3f319e512a1d196b9265e82c21fcde39
      size: 46
    - path: train.py
      md5: 10a4aaf398763a1e9b36814489c16f4d
      size: 1983
    params:
      params.yaml:
        concurrent.drop: 0.4
        concurrent.epochs: 45
        concurrent.max_features: 1750
        concurrent.min_split: 80
        concurrent.ngrams: 8
        concurrent.num_est: 50
        concurrent.sample: 0.5
        concurrent.threads: 30
        model.epochs: 75
        model.min_features: 4250
        settings.min_split: 48
        settings.ngrams: 4
        settings.tags: 35
        tagging.columns: 9
        tagging.max_depth: 12
        tagging.passes: 124
        tagging.weight_factor: 0.3
        train.features: 3560
        train.learning_rate: 0.04
        train.max_depth: 12
        train.max_features: 2700
        train.ngrams: 2
        train.passes: 76
        train.sample: 0.5
    outs:
    - path: model.json
      md5: 2f7cea7e57c91300cba6a45a56d922ab
      size: 928
  evaluate:
    cmd: python evaluate.py model.json ner-test.csv
    deps:
    - path: evaluate.py
      md5: 331324b8b26841b03de6677074a0b0d1
      size: 41905
    - path: model.json
      md5: 2f7cea7e57c91300cba6a45a56d922ab
      size: 928
    - path: ner-test.csv
      md5: 012d63ebb79cbf475c14ba8f3c2078d5
      size: 345
    outs:
    - path: metrics.json
      md5: 034f20db05885b11b4c1c58a0748bcb7
      size: 400

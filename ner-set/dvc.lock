schema: '2.0'
stages:
  split:
    cmd: python split.py ner.csv ner-train.csv ner-test.csv
    deps:
    - path: ner.csv
      md5: a181e156773daf1620f139fd87d0b9eb
      size: 1119
    - path: split.py
      md5: 6b5b0d64abd7b5c741bac54ee1058d78
      size: 1283
    params:
      params.yaml:
        prepare.features: 1296
        prepare.folds: 11
        prepare.random_state: 1024643724
        prepare.seed: 673551947
    outs:
    - path: ner-test.csv
      md5: 3e959a8299e462aaa226c47181391a53
      size: 318
    - path: ner-train.csv
      md5: 4c408aadfbae7efbb877838945fd1161
      size: 801
  featurize:
    cmd: python featurize.py ner-train.csv ner-train-feats.csv
    deps:
    - path: featurize.py
      md5: aa02e7adb34f97fdd99267ec0712a913
      size: 1322
    - path: ner-train.csv
      md5: 4c408aadfbae7efbb877838945fd1161
      size: 801
    params:
      params.yaml:
        featurize.dense: 121
        featurize.learning_rate: 0.05646
        featurize.max_depth: 4
        featurize.min_split: 70
        featurize.ngrams: 7
    outs:
    - path: ner-train-feats.csv
      md5: 41af79b09dcde2f9c16fea65dda9a795
      size: 240
  train:
    cmd: python train.py ner-train-feats.csv model.json
    deps:
    - path: ner-train-feats.csv
      md5: 41af79b09dcde2f9c16fea65dda9a795
      size: 240
    - path: train.py
      md5: 7b2e6ace7a8d0b2786305cdb0ef57808
      size: 1867
    params:
      params.yaml:
        concurrent.columns: 12
        concurrent.layers: 6
        concurrent.ngrams: 4
        concurrent.num_est: 150
        concurrent.random_state: 150000000
        model.batch_size: 16
        model.columns: 15
        model.drop: 0.3
        model.folds: 9
        model.max_depth: 16
        model.ngrams: 4
        model.threads: 29
        model.trees: 12
        preprocessing.features: 3700
        preprocessing.learning_rate: 0.1
        preprocessing.max_features: 3550
        preprocessing.min_features: 3250
        preprocessing.passes: 54
        preprocessing.random_state: 274000000
        preprocessing.threads: 15
    outs:
    - path: model.json
      md5: e68cc3f405e4e3a2d818bf4390aa1d77
      size: 1024
  evaluate:
    cmd: python evaluate.py model.json ner-test.csv
    deps:
    - path: evaluate.py
      md5: c21b5cf442dd66a3b911c9e05a285c19
      size: 41959
    - path: model.json
      md5: e68cc3f405e4e3a2d818bf4390aa1d77
      size: 1024
    - path: ner-test.csv
      md5: 3e959a8299e462aaa226c47181391a53
      size: 318
    outs:
    - path: metrics.json
      md5: 2bd5b57ed1942d02e72c9a98bd012041
      size: 498

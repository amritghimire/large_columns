schema: '2.0'
stages:
  split:
    cmd: python split.py ner.csv ner-train.csv ner-test.csv
    deps:
    - path: ner.csv
      md5: a181e156773daf1620f139fd87d0b9eb
      size: 1119
    - path: split.py
      md5: 6b5b0d64abd7b5c741bac54ee1058d78
      size: 1283
    params:
      params.yaml:
        prepare.features: 1296
        prepare.folds: 11
        prepare.random_state: 830046035
        prepare.seed: 791433705
    outs:
    - path: ner-test.csv
      md5: 0f68e38cf864c8650fd5d063d2dd48e8
      size: 329
    - path: ner-train.csv
      md5: 724a030871a749aac045d10d261d3475
      size: 790
  featurize:
    cmd: python featurize.py ner-train.csv ner-train-feats.csv
    deps:
    - path: featurize.py
      md5: aa02e7adb34f97fdd99267ec0712a913
      size: 1322
    - path: ner-train.csv
      md5: 724a030871a749aac045d10d261d3475
      size: 790
    params:
      params.yaml:
        featurize.dense: 121
        featurize.learning_rate: 0.05646
        featurize.max_depth: 4
        featurize.min_split: 70
        featurize.ngrams: 7
    outs:
    - path: ner-train-feats.csv
      md5: 5423f4e078bb4a051dd82013563236e3
      size: 240
  train:
    cmd: python train.py ner-train-feats.csv model.json
    deps:
    - path: ner-train-feats.csv
      md5: 5423f4e078bb4a051dd82013563236e3
      size: 240
    - path: train.py
      md5: 7b2e6ace7a8d0b2786305cdb0ef57808
      size: 1867
    params:
      params.yaml:
        concurrent.columns: 12
        concurrent.layers: 6
        concurrent.ngrams: 4
        concurrent.num_est: 150
        concurrent.random_state: 150000000
        model.batch_size: 16
        model.columns: 15
        model.drop: 0.3
        model.folds: 9
        model.max_depth: 16
        model.ngrams: 4
        model.threads: 29
        model.trees: 12
        preprocessing.features: 3700
        preprocessing.learning_rate: 0.1
        preprocessing.max_features: 3550
        preprocessing.min_features: 3250
        preprocessing.passes: 54
        preprocessing.random_state: 274000000
        preprocessing.threads: 15
    outs:
    - path: model.json
      md5: e277917202570ac0ec1b39fc5c962164
      size: 1024
  evaluate:
    cmd: python evaluate.py model.json ner-test.csv
    deps:
    - path: evaluate.py
      md5: c21b5cf442dd66a3b911c9e05a285c19
      size: 41959
    - path: model.json
      md5: e277917202570ac0ec1b39fc5c962164
      size: 1024
    - path: ner-test.csv
      md5: 0f68e38cf864c8650fd5d063d2dd48e8
      size: 329
    outs:
    - path: metrics.json
      md5: dcdafbafda86c80ffd38764640f0313c
      size: 498
